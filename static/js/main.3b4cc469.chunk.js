(this.webpackJsonpfearnot=this.webpackJsonpfearnot||[]).push([[0],{11:function(t,e,r){t.exports=r(20)},16:function(t,e,r){},17:function(t,e,r){t.exports=r.p+"static/media/logo.9b1b5ea4.svg"},18:function(t,e,r){},20:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),c=r(5),o=r.n(c),i=(r(16),r(17),r(18),r(6)),u=r(7),s=r(1),l=r(10),f=r(9),d=function(){return localStorage.getItem("FN_HIGHSCORE")||0},m=function(t){var e;e=Math.max(t,d()),localStorage.setItem("FN_HIGHSCORE",e)},v=function(t){t.rule,t.activeCard,t.isNot;var e=t.score,r=t.prevScore,n=d();return a.a.createElement("div",{className:"footer"},a.a.createElement("div",null,"Current Score: ",e),r&&a.a.createElement("div",null,"Previous Score: ",r),n>0&&a.a.createElement("div",null,"High Score: ",n))},N=[{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.txt)},rule:function(t,e){return t.txt===e.txt},cardRender:function(t){return p(t)}},{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.preferredName||t.firstName)},rule:function(t,e){return(t.preferredName||t.firstName)===(e.preferredName||e.firstName)},cardRender:function(t){return p(t)}},{text:function(t,e,r){return h(t,e,r)},rule:function(t,e){return(t.preferredName||t.firstName)===(e.preferredName||e.firstName)},cardRender:function(t){return C(t)}},{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," last name of ").concat(t.lastName)},rule:function(t,e){return t.lastName===e.lastName},cardRender:function(t){return p(t)}},{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.division)},rule:function(t,e){return t.division===e.division},cardRender:function(t){return p(t)}},{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.jobTitle)},rule:function(t,e){return t.jobTitle===e.jobTitle},cardRender:function(t){return p(t)}},{text:function(t,e){return"".concat(e?"Not first":"First"," (alphabetically by LAST name)")},rule:function(t,e,r){var n=r.map((function(t){return t.lastName}));return n.sort(),t.lastName===n[0]},cardRender:function(t){return p(t)},activeCards:function(t,e){return t.slice(0,4)}},{text:function(t,e){return"".concat(e?"Not first":"First"," (alphabetically by FIRST name)")},rule:function(t,e,r){var n=r.map((function(t){return t.firstName}));return n.sort(),t.firstName===n[0]},cardRender:function(t){return p(t)},activeCards:function(t,e){return t.slice(0,4)}},{text:function(t,e){return"".concat(e?"Not last":"Last"," (alphabetically by FIRST name)")},rule:function(t,e,r){var n=r.map((function(t){return t.txt}));return n.sort(),console.log(n[n.length-1]),t.txt===n[n.length-1]},cardRender:function(t){return p(t)},activeCards:function(t,e){return t.slice(0,4)}},{text:function(t,e){return"".concat(e?"Not last":"Last"," (alphabetically by LAST name)")},rule:function(t,e,r){var n=r.map((function(t){return t.lastName}));return n.sort(),t.lastName===n[n.length-1]},cardRender:function(t){return p(t)},activeCards:function(t,e){return t.slice(0,4)}}],h=function(t,e,r){return a.a.createElement("div",null,e?"Not":r?"Not Not":"",a.a.createElement("img",{src:"/fearnot/"+t.photoUrl,alt:t.displayName}))},p=function(t){return a.a.createElement("img",{src:"/fearnot/"+t.photoUrl,alt:t.displayName})},C=function(t){return a.a.createElement("button",null,t.txt)},x={text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.txt)},rule:function(t,e){return t.txt===e.txt},cardRender:function(t){return p(t)},activeCards:function(t,e){return e.filter((function(t){return"Christopher"===t.firstName&&t.lastName.startsWith("B")&&t.lastName.endsWith("e")}))}},b={text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.txt)},rule:function(t,e){return t.txt===e.txt},cardRender:function(t){return p(t)},activeCards:function(t,e){return e.filter((function(t){return"Barrow"===t.lastName}))}},E=r(2),g=r.n(E),S=r(8),R=function(){var t=Object(S.a)(g.a.mark((function t(e){var r,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/fearnot/fearless.json");case 2:return r=t.sent,t.next=5,r.json();case 5:return n=t.sent,t.abrupt("return",n.cards);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=r(3),k=function(t){var e=t.cards,r=t.clickHandler,c=t.rule,o={Name:"txt",Herd:"division",Title:"jobTitle"},i=Object(n.useState)(null),u=Object(M.a)(i,2),s=u[0],l=u[1],f=e.some((function(t){return t.isCorrect}));return a.a.createElement("div",null,e.map((function(t,n){var i="card";return t.isCorrect?i+=" correct":s&&t.txt===s.txt&&(i+=" active"),a.a.createElement("div",{className:i,onClick:function(n){!function(t){s||f||(l(t),e.length>5&&(l(null),r(t)))}(t)},key:"AC-".concat(n)},c.cardRender(t),(s||f)&&a.a.createElement("ul",null,Object.entries(o).map((function(e){var r=Object(M.a)(e,2),n=(r[0],r[1]);return a.a.createElement("li",null,t[n])}))))})),s&&a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){r(s),l(null)}},"Next")))};function y(t){for(var e,r,n=t.length;n;)r=Math.floor(Math.random()*n--),e=t[n],t[n]=t[r],t[r]=e}var j=function(t){Object(l.a)(r,t);var e=Object(f.a)(r);function r(t){var n;return Object(i.a)(this,r),(n=e.call(this,t)).clickHandler=function(t){var e=n.state.currentRule.rule(t,n.state.activeCard,n.state.activeCards);n.state.isNot&&(e=!e);var r=0;if(e)r=n.state.score+1,n.changeRule(r);else{var a=n.state.activeCards.slice().map((function(t){return t.isCorrect=n.state.currentRule.rule(t,n.state.activeCard,n.state.activeCards),n.state.isNot&&(t.isCorrect=!t.isCorrect),t}));n.setState({activeCards:a}),n.newGame()}},n.changeRule=function(t){var e=Math.floor(10*Math.random())%3===0,r=t>20&&!e&&10*Math.random()>=7,a=Math.min(N.length,Math.floor(t/5)),c=N[Math.floor(Math.random()*a)];50*Math.random()>=49?c=x:50*Math.random()>=49&&(c=b);var o=n.state.cards;y(o);var i=e?Math.floor(t/10)+4:Math.floor(t/4)+4,u=o.slice(0,i),s=(u=c.activeCards?c.activeCards(u,o):u)[0];y(u),console.log(u),n.setState({score:t,currentRule:c,possibleCards:o,activeCard:s,activeCards:u,isNot:e,notNot:r})},n.newGame=function(){var t=n.state.score;m(t),function(){var t=localStorage.getItem("FN_NUM_GAMES")||"0";t=isNaN(t)?1:parseInt(t,10)+1,localStorage.setItem("FN_NUM_GAMES",t)}(),n.setState({prevScore:t,endGame:!0})},n.clickHandler=n.clickHandler.bind(Object(s.a)(n)),n.state={selectedSource:"fearless",currentRule:N[0],isNot:!1,score:0},n}return Object(u.a)(r,[{key:"setupGame",value:function(){var t=this;R(this.state.source).then((function(e){y(e),console.log(e.length),t.setState({cards:e,activeCard:e[0],activeCards:e.slice(0,4)})}))}},{key:"startNewGame",value:function(){var t={endGame:!1,currentRule:N[0],isNot:!1,score:0},e=this.state.cards;y(e),t.card=e,t.activeCard=e[0],t.activeCards=e.slice(0,4),t.activeCards.forEach((function(t){t.isCorrect=!1})),this.setState(t)}},{key:"componentDidMount",value:function(){this.setupGame()}},{key:"render",value:function(){var t=this;return this.state.cards?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"header"},"Fear Not!"),this.state.endGame&&a.a.createElement("div",null,a.a.createElement("div",null,"Great Job.  You scored: ",this.state.prevScore),a.a.createElement("button",{onClick:function(){t.startNewGame()}},"New Game?")),a.a.createElement("div",null,a.a.createElement("div",{className:"rule ".concat(this.state.isNot&&"not")},this.state.currentRule.text(this.state.activeCard,this.state.isNot,this.state.notNot)),a.a.createElement(k,{cards:this.state.activeCards,clickHandler:this.clickHandler,rule:this.state.currentRule})),a.a.createElement(v,{score:this.state.score,prevScore:this.state.prevScore})):a.a.createElement("div",null,"Loading")}}]),r}(a.a.Component);var w=function(){return a.a.createElement(j,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.3b4cc469.chunk.js.map