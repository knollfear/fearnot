(this.webpackJsonpfearnot=this.webpackJsonpfearnot||[]).push([[0],{11:function(t,e,r){t.exports=r(20)},16:function(t,e,r){},17:function(t,e,r){t.exports=r.p+"static/media/logo.9b1b5ea4.svg"},18:function(t,e,r){},20:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),c=r(4),o=r.n(c),i=(r(16),r(17),r(18),r(5)),s=r(6),u=r(1),l=r(10),d=r(9),f=function(){return localStorage.getItem("FN_HIGHSCORE")||0},m=function(t){var e;e=Math.max(t,f()),localStorage.setItem("FN_HIGHSCORE",e)},v=function(t){t.rule,t.activeCard,t.isNot;var e=t.score,r=t.prevScore,n=f();return a.a.createElement("div",{className:"footer"},a.a.createElement("div",null,"Current Score: ",e),r&&a.a.createElement("div",null,"Previous Score: ",r),n>0&&a.a.createElement("div",null,"High Score: ",n))},N=[{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.txt)},rule:function(t,e){return t.txt===e.txt},cardRender:function(t){return p(t)}},{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.preferredName||t.firstName)},rule:function(t,e){return(t.preferredName||t.firstName)===(e.preferredName||e.firstName)},cardRender:function(t){return p(t)}},{text:function(t,e,r){return h(t,e,r)},rule:function(t,e){return(t.preferredName||t.firstName)===(e.preferredName||e.firstName)},cardRender:function(t){return C(t)}},{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," last name of ").concat(t.lastName)},rule:function(t,e){return t.lastName===e.lastName},cardRender:function(t){return p(t)}},{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.division)},rule:function(t,e){return t.division===e.division},cardRender:function(t){return p(t)}},{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.jobTitle)},rule:function(t,e){return t.jobTitle===e.jobTitle},cardRender:function(t){return p(t)}},{text:function(t,e){return"".concat(e?"Not first":"First"," (alphabetically by LAST name)")},rule:function(t,e,r){var n=r.map((function(t){return t.lastName}));return n.sort(),t.lastName===n[0]},cardRender:function(t){return p(t)},activeCards:function(t,e){return t.slice(0,4)}},{text:function(t,e){return"".concat(e?"Not first":"First"," (alphabetically by FIRST name)")},rule:function(t,e,r){var n=r.map((function(t){return t.firstName}));return n.sort(),t.firstName===n[0]},cardRender:function(t){return p(t)},activeCards:function(t,e){return t.slice(0,4)}},{text:function(t,e){return"".concat(e?"Not last":"Last"," (alphabetically by FIRST name)")},rule:function(t,e,r){var n=r.map((function(t){return t.txt}));return n.sort(),console.log(n[n.length-1]),t.txt===n[n.length-1]},cardRender:function(t){return p(t)},activeCards:function(t,e){return t.slice(0,4)}},{text:function(t,e){return"".concat(e?"Not last":"Last"," (alphabetically by LAST name)")},rule:function(t,e,r){var n=r.map((function(t){return t.lastName}));return n.sort(),t.lastName===n[n.length-1]},cardRender:function(t){return p(t)},activeCards:function(t,e){return t.slice(0,4)}}],h=function(t,e,r){return a.a.createElement("div",null,e?"Not":r?"Not Not":"",a.a.createElement("img",{src:"/fearnot/"+t.photoUrl,alt:t.displayName}))},p=function(t){return a.a.createElement("img",{src:"/fearnot/"+t.photoUrl,alt:t.displayName})},C=function(t){return a.a.createElement("button",null,t.txt)},S={text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.txt)},rule:function(t,e){return t.txt===e.txt},cardRender:function(t){return p(t)},activeCards:function(t,e){return e.filter((function(t){return"Christopher"===t.firstName&&t.lastName.startsWith("B")&&t.lastName.endsWith("e")}))}},x={text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.txt)},rule:function(t,e){return t.txt===e.txt},cardRender:function(t){return p(t)},activeCards:function(t,e){return e.filter((function(t){return"Barrow"===t.lastName}))}},E=r(2),b=r.n(E),y=r(7),g=function(){var t=Object(y.a)(b.a.mark((function t(e){var r,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/fearnot/fearless.json");case 2:return r=t.sent,t.next=5,r.json();case 5:return n=t.sent,t.abrupt("return",n.cards);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=r(8),k=function(t){var e=t.cards,r=t.clickHandler,n=t.rule,c=t.isDisplayStats,o=t.selectedCard,i={Name:"txt",Herd:"division",Title:"jobTitle"};return a.a.createElement("div",null,e.map((function(t){return a.a.createElement("div",{className:"card ".concat(t.isCorrect?" correct":""," ").concat(o&&o.txt===t.txt?"active":""),onClick:function(){r(t)},key:t.key},n.cardRender(t),c&&a.a.createElement("ul",null,Object.entries(i).map((function(e){var r=Object(R.a)(e,2),n=(r[0],r[1]);return a.a.createElement("li",null,t[n])}))))})),c&&o&&a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){r(o)}},"Next")))};function M(t){for(var e,r,n=t.length;n;)r=Math.floor(Math.random()*n--),e=t[n],t[n]=t[r],t[r]=e}function w(t){return("0"+t.toString(16)).substr(-2)}var j=function(t){Object(l.a)(r,t);var e=Object(d.a)(r);function r(t){var n;return Object(i.a)(this,r),(n=e.call(this,t)).clickHandler=function(t){if(!n.state.isDisplayStats&&n.state.score<=10)n.setState({isDisplayStats:!0,selectedCard:t});else{n.setState({isDisplayStats:!1,selectedCard:null});var e=n.state.currentRule.rule(t,n.state.activeCard,n.state.activeCards);n.state.isNot&&(e=!e);var r=0;if(e)r=n.state.score+1,n.changeRule(r);else{var a=n.state.activeCards.slice().map((function(t){return t.isCorrect=n.state.currentRule.rule(t,n.state.activeCard,n.state.activeCards),n.state.isNot&&(t.isCorrect=!t.isCorrect),t}));n.endGame(),n.setState({activeCards:a,isDisplayStats:!0,selectedCard:null})}}},n.changeRule=function(t){var e=Math.floor(10*Math.random())%3===0,r=t>20&&!e&&10*Math.random()>=7,a=Math.min(N.length,Math.floor(t/5)),c=N[Math.floor(Math.random()*a)];50*Math.random()>=49?c=S:50*Math.random()>=49&&(c=x);var o=n.state.cards;M(o);var i=e?Math.floor(t/10)+4:Math.floor(t/4)+4,s=o.slice(0,i),u=(s=c.activeCards?c.activeCards(s,o):s)[0];M(s),console.log(s),s.forEach((function(t){t.isCorrect=!1,t.key=function(t){var e=new Uint8Array((t||40)/2);return window.crypto.getRandomValues(e),Array.from(e,w).join("")}(10)})),n.setState({score:t,currentRule:c,possibleCards:o,activeCard:u,activeCards:s,isNot:e,notNot:r})},n.endGame=function(){var t=n.state.score;m(t),function(){var t=localStorage.getItem("FN_NUM_GAMES")||"0";t=isNaN(t)?1:parseInt(t,10)+1,localStorage.setItem("FN_NUM_GAMES",t)}(),n.setState({prevScore:t,endGame:!0})},n.clickHandler=n.clickHandler.bind(Object(u.a)(n)),n.state={selectedSource:"fearless",currentRule:N[0],isNot:!1,score:0,isDisplayStats:!1},n}return Object(s.a)(r,[{key:"setupGame",value:function(){var t=this;g(this.state.source).then((function(e){M(e),console.log(e.length),t.setState({cards:e,activeCard:e[0],activeCards:e.slice(0,4)})}))}},{key:"startNewGame",value:function(){var t={endGame:!1,currentRule:N[0],isNot:!1,score:0,isDisplayStats:!1},e=this.state.cards;M(e),t.card=e,t.activeCard=e[0],t.activeCards=e.slice(0,4),t.activeCards.forEach((function(t){t.isCorrect=!1})),this.setState(t)}},{key:"componentDidMount",value:function(){this.setupGame()}},{key:"render",value:function(){var t=this;return this.state.cards?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"header"},"Fear Not!"),this.state.endGame&&a.a.createElement("div",null,a.a.createElement("div",null,"Great Job.  You scored: ",this.state.prevScore),a.a.createElement("button",{onClick:function(){t.startNewGame()}},"New Game?")),a.a.createElement("div",null,a.a.createElement("div",{className:"rule ".concat(this.state.isNot&&"not")},this.state.currentRule.text(this.state.activeCard,this.state.isNot,this.state.notNot)),a.a.createElement(k,{cards:this.state.activeCards,clickHandler:this.clickHandler,rule:this.state.currentRule,isDisplayStats:this.state.isDisplayStats,selectedCard:this.state.selectedCard})),a.a.createElement(v,{score:this.state.score,prevScore:this.state.prevScore})):a.a.createElement("div",null,"Loading")}}]),r}(a.a.Component);var G=function(){return a.a.createElement(j,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.9970d2d4.chunk.js.map