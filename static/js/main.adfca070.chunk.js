(this.webpackJsonpfearnot=this.webpackJsonpfearnot||[]).push([[0],{11:function(t,e,r){t.exports=r(20)},16:function(t,e,r){},17:function(t,e,r){t.exports=r.p+"static/media/logo.9b1b5ea4.svg"},18:function(t,e,r){},20:function(t,e,r){"use strict";r.r(e);var a=r(0),n=r.n(a),c=r(4),o=r.n(c),i=(r(16),r(17),r(18),r(5)),s=r(6),u=r(1),l=r(10),d=r(9),f=function(){return localStorage.getItem("FN_HIGHSCORE")||0},m=function(t){var e;e=Math.max(t,f()),localStorage.setItem("FN_HIGHSCORE",e)},v=function(t){t.rule,t.activeCard,t.isNot;var e=t.score,r=t.prevScore,a=f();return n.a.createElement("div",{className:"footer"},n.a.createElement("div",null,"Current Score: ",e),r&&n.a.createElement("div",null,"Previous Score: ",r),a>0&&n.a.createElement("div",null,"High Score: ",a))},N=[{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.txt)},rule:function(t,e){return t.txt===e.txt},cardRender:function(t){return p(t)}},{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.preferredName||t.firstName)},rule:function(t,e){return(t.preferredName||t.firstName)===(e.preferredName||e.firstName)},cardRender:function(t){return p(t)}},{text:function(t,e,r){return h(t,e,r)},rule:function(t,e){return(t.preferredName||t.firstName)===(e.preferredName||e.firstName)},cardRender:function(t){return C(t)}},{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," last name of ").concat(t.lastName)},rule:function(t,e){return t.lastName===e.lastName},cardRender:function(t){return p(t)}},{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.division)},rule:function(t,e){return t.division===e.division},cardRender:function(t){return p(t)}},{text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.jobTitle)},rule:function(t,e){return t.jobTitle===e.jobTitle},cardRender:function(t){return p(t)}},{text:function(t,e){return"".concat(e?"Not first":"First"," (alphabetically by LAST name)")},rule:function(t,e,r){var a=r.map((function(t){return t.lastName}));return a.sort(),t.lastName===a[0]},cardRender:function(t){return p(t)},activeCards:function(t,e){return t.slice(0,4)}},{text:function(t,e){return"".concat(e?"Not first":"First"," (alphabetically by FIRST name)")},rule:function(t,e,r){var a=r.map((function(t){return t.firstName}));return a.sort(),t.firstName===a[0]},cardRender:function(t){return p(t)},activeCards:function(t,e){return t.slice(0,4)}},{text:function(t,e){return"".concat(e?"Not last":"Last"," (alphabetically by FIRST name)")},rule:function(t,e,r){var a=r.map((function(t){return t.txt}));return a.sort(),console.log(a[a.length-1]),t.txt===a[a.length-1]},cardRender:function(t){return p(t)},activeCards:function(t,e){return t.slice(0,4)}},{text:function(t,e){return"".concat(e?"Not last":"Last"," (alphabetically by LAST name)")},rule:function(t,e,r){var a=r.map((function(t){return t.lastName}));return a.sort(),t.lastName===a[a.length-1]},cardRender:function(t){return p(t)},activeCards:function(t,e){return t.slice(0,4)}}],h=function(t,e,r){return n.a.createElement("div",null,e?"Not":r?"Not Not":"",n.a.createElement("img",{src:"/fearnot/"+t.photoUrl,alt:t.displayName}))},p=function(t){return n.a.createElement("img",{src:"/fearnot/"+t.photoUrl,alt:t.displayName})},C=function(t){return n.a.createElement("button",null,t.txt)},S={text:function(t,e,r){return"".concat(e?"Not":r?"Not Not":""," ").concat(t.txt)},rule:function(t,e){return t.txt===e.txt},cardRender:function(t){return p(t)},activeCards:function(t,e){return e.filter((function(t){return"Barrow"===t.lastName}))}},E=r(2),b=r.n(E),y=r(7),g=function(){var t=Object(y.a)(b.a.mark((function t(e){var r,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/fearnot/fearless.json");case 2:return r=t.sent,t.next=5,r.json();case 5:return a=t.sent,t.abrupt("return",a.cards);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=r(8),R=function(t){var e=t.cards,r=t.clickHandler,a=t.rule,c=t.isDisplayStats,o=t.selectedCard,i={Name:"txt",Herd:"division",Title:"jobTitle"};return n.a.createElement("div",null,e.map((function(t){return n.a.createElement("div",{className:"card ".concat(t.isCorrect?" correct":""," ").concat(o&&o.txt===t.txt?"active":""),onClick:function(){r(t)},key:t.key},a.cardRender(t),c&&n.a.createElement("ul",null,Object.entries(i).map((function(e){var r=Object(x.a)(e,2),a=(r[0],r[1]);return n.a.createElement("li",null,t[a])}))))})),c&&o&&n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){r(o)}},"Next")))};function k(t){for(var e,r,a=t.length;a;)r=Math.floor(Math.random()*a--),e=t[a],t[a]=t[r],t[r]=e}function M(t){return("0"+t.toString(16)).substr(-2)}var w=function(t){Object(l.a)(r,t);var e=Object(d.a)(r);function r(t){var a;return Object(i.a)(this,r),(a=e.call(this,t)).clickHandler=function(t){if(!a.state.isDisplayStats&&a.state.score<=10)a.setState({isDisplayStats:!0,selectedCard:t});else{a.setState({isDisplayStats:!1,selectedCard:null});var e=a.state.currentRule.rule(t,a.state.activeCard,a.state.activeCards);a.state.isNot&&(e=!e);var r=0;if(e)r=a.state.score+1,a.changeRule(r);else{var n=a.state.activeCards.slice().map((function(t){return t.isCorrect=a.state.currentRule.rule(t,a.state.activeCard,a.state.activeCards),a.state.isNot&&(t.isCorrect=!t.isCorrect),t}));a.endGame(),a.setState({activeCards:n,isDisplayStats:!0,selectedCard:null})}}},a.changeRule=function(t){var e=Math.floor(10*Math.random())%3===0,r=t>20&&!e&&10*Math.random()>=7,n=Math.min(N.length,Math.floor(t/5)),c=N[Math.floor(Math.random()*n)];50*Math.random()>=49&&(c=S);var o=a.state.cards;k(o);var i=e?Math.floor(t/10)+4:Math.floor(t/4)+4,s=o.slice(0,i),u=(s=c.activeCards?c.activeCards(s,o):s)[0];k(s),console.log(s),s.forEach((function(t){t.isCorrect=!1,t.key=function(t){var e=new Uint8Array((t||40)/2);return window.crypto.getRandomValues(e),Array.from(e,M).join("")}(10)})),a.setState({score:t,currentRule:c,possibleCards:o,activeCard:u,activeCards:s,isNot:e,notNot:r})},a.endGame=function(){var t=a.state.score;m(t),function(){var t=localStorage.getItem("FN_NUM_GAMES")||"0";t=isNaN(t)?1:parseInt(t,10)+1,localStorage.setItem("FN_NUM_GAMES",t)}(),a.setState({prevScore:t,endGame:!0})},a.clickHandler=a.clickHandler.bind(Object(u.a)(a)),a.state={selectedSource:"fearless",currentRule:N[0],isNot:!1,score:0,isDisplayStats:!1},a}return Object(s.a)(r,[{key:"setupGame",value:function(){var t=this;g(this.state.source).then((function(e){k(e),console.log(e.length),t.setState({cards:e,activeCard:e[0],activeCards:e.slice(0,4)})}))}},{key:"startNewGame",value:function(){var t={endGame:!1,currentRule:N[0],isNot:!1,score:0,isDisplayStats:!1},e=this.state.cards;k(e),t.card=e,t.activeCard=e[0],t.activeCards=e.slice(0,4),t.activeCards.forEach((function(t){t.isCorrect=!1})),this.setState(t)}},{key:"componentDidMount",value:function(){this.setupGame()}},{key:"render",value:function(){var t=this;return this.state.cards?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"header"},"Fear Not!"),this.state.endGame&&n.a.createElement("div",null,n.a.createElement("div",null,"Great Job.  You scored: ",this.state.prevScore),n.a.createElement("button",{onClick:function(){t.startNewGame()}},"New Game?")),n.a.createElement("div",null,n.a.createElement("div",{className:"rule ".concat(this.state.isNot&&"not")},this.state.currentRule.text(this.state.activeCard,this.state.isNot,this.state.notNot)),n.a.createElement(R,{cards:this.state.activeCards,clickHandler:this.clickHandler,rule:this.state.currentRule,isDisplayStats:this.state.isDisplayStats,selectedCard:this.state.selectedCard})),n.a.createElement(v,{score:this.state.score,prevScore:this.state.prevScore})):n.a.createElement("div",null,"Loading")}}]),r}(n.a.Component);var j=function(){return n.a.createElement(w,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.adfca070.chunk.js.map